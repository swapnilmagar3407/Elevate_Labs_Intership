from urllib.parse import urljoin
from bs4 import BeautifulSoup

def make_absolute(url, action):
    return urljoin(url, action or "")

def parse_forms(html):
    soup = BeautifulSoup(html, "html.parser")
    forms = []
    for form in soup.find_all("form"):
        method = (form.get("method") or "GET").upper()
        action = form.get("action") or ""
        inputs = []
        for inp in form.find_all(["input", "textarea", "select"]):
            t = (inp.get("type") or "text").lower()
            name = inp.get("name")
            if not name:
                continue
            inputs.append({"type": t, "name": name, "value": inp.get("value", "")})
        forms.append({"method": method, "action": action, "inputs": inputs})
    return forms